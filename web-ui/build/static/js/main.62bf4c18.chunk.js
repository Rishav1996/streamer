(this["webpackJsonpweb-ui"]=this["webpackJsonpweb-ui"]||[]).push([[0],{384:function(e,t,s){},385:function(e,t,s){"use strict";s.r(t);var a=s(0),n=s.n(a),r=s(37),c=s.n(r),i=s(11),o=s(13),l=s(25),d=s(24),j=s(29),h=s(395),b=s(106),u=s(59),p=s(398),O=s(389),x=s(387),g=s(393),f=s(396),y=s(71),m="#E0F4FE",v="#0C3F60",k="#FFE100",S="#000F1B",w="LOGIN",A="ANALYTICS",I=s(92),C=s.n(I),F=s(6),_=h.a.Title,T=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(i.a)(this,s),(a=t.call(this,e)).state={user:""},a}return Object(o.a)(s,[{key:"render",value:function(){var e=this;return Object(F.jsx)(F.Fragment,{children:Object(F.jsxs)(b.a,{style:{height:"100vh"},justify:"center",align:"middle",children:[Object(F.jsx)(u.a,{align:"center",span:11,children:Object(F.jsxs)(p.b,{align:"top",size:"middle",children:[Object(F.jsx)(O.a,{preview:!1,width:100,src:"./../assets/streaming.png"}),Object(F.jsx)(_,{style:{fontSize:90,color:k},level:"1",children:"Streamer"})]})}),Object(F.jsx)(u.a,{span:2,children:Object(F.jsx)(x.a,{type:"vertical",style:{backgroundColor:v,height:"45vh",width:2}})}),Object(F.jsx)(u.a,{span:11,children:Object(F.jsxs)(g.a,{layout:"vertical",style:{width:400},children:[Object(F.jsx)(g.a.Item,{label:Object(F.jsx)("span",{style:{color:k,fontSize:20},children:"User Name"}),value:this.state.user,onChange:function(t){e.setState(Object(j.a)(Object(j.a)({},e.state),{},{user:t.target.value}))},name:"username",children:Object(F.jsx)(f.a,{placeholder:"username",style:{background:"transparent",color:"white",borderWidth:2,padding:10}})}),Object(F.jsx)(g.a.Item,{label:Object(F.jsx)("span",{style:{color:k,fontSize:20},children:"Password"}),name:"password",children:Object(F.jsx)(f.a,{placeholder:"password",style:{background:"transparent",color:"white",borderWidth:2,padding:10}})}),Object(F.jsx)(g.a.Item,{children:Object(F.jsx)(b.a,{justify:"end",children:Object(F.jsx)(u.a,{children:Object(F.jsxs)(p.b,{justify:"end",children:[Object(F.jsx)(y.a,{size:"large",style:{background:k,color:v,border:"none"},onClick:function(t){t.preventDefault(),C.a.set("user",e.state.user),e.props.updateFlag("MAIN")},children:Object(F.jsx)("b",{children:"Login"})}),Object(F.jsx)(y.a,{size:"large",style:{background:k,color:v,border:"none"},onClick:function(t){t.preventDefault(),e.props.updateFlag(A)},children:Object(F.jsx)("b",{children:"Analytics"})})]})})})})]})})]})})}}]),s}(a.Component),D=s(388),L=s(184),E=s(394),z=s(390),U=s(392),P=s(399),M=s(400),N=s(401),R=s(402),B=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(i.a)(this,s),(a=t.call(this,e)).fetchData=function(){var e={u_name:C.a.get("user")};fetch("http://localhost:8000/post/fetch",{method:"POST",mode:"cors",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()})).then((function(e){a.setState(Object(j.a)(Object(j.a)({},a.state),{},{data:e}))})).catch((function(e){return console.log(e)}))},a.state={data:[]},a}return Object(o.a)(s,[{key:"componentDidMount",value:function(){this.fetchData()}},{key:"render",value:function(){var e=this;return Object(F.jsx)(F.Fragment,{children:Object(F.jsx)(z.a,{extra:[Object(F.jsx)(y.a,{size:"large",style:{background:k,color:v,border:"none"},onClick:function(t){t.preventDefault(),e.fetchData()},icon:Object(F.jsx)(P.a,{color:v}),children:Object(F.jsx)("b",{children:" Refresh"})})],children:Object(F.jsx)(U.b,{itemLayout:"horizontal",dataSource:this.state.data,renderItem:function(e){return Object(F.jsx)(U.b.Item,{children:Object(F.jsx)(U.b.Item.Meta,{title:Object(F.jsx)("a",{style:{color:v},href:"_",children:e.post_text}),description:Object(F.jsxs)(p.b,{align:"start",children:[Object(F.jsx)(M.a,{color:v}),Object(F.jsx)("a",{style:{color:v},href:"_",children:e.likes}),Object(F.jsx)(N.a,{color:v,href:"_"}),Object(F.jsx)("a",{style:{color:v},href:"_",children:e.comments}),Object(F.jsx)(R.a,{color:v}),Object(F.jsx)("a",{style:{color:v},href:"_",children:e.shares})]})})})}})})})}}]),s}(a.Component),G=s(391),J=s(234),Z=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(){return Object(i.a)(this,s),t.apply(this,arguments)}return Object(o.a)(s,[{key:"render",value:function(){return Object(F.jsx)(F.Fragment,{children:Object(F.jsx)(z.a,{children:Object(F.jsxs)(g.a,{children:[Object(F.jsx)(g.a.Item,{name:"post",children:Object(F.jsx)(f.a,{style:{background:"transparent",color:v,borderWidth:2,padding:10,border:"none"},type:"text",placeholder:"Say something nice !!!"})}),Object(F.jsx)(g.a.Item,{children:Object(F.jsx)(G.a,{onPreview:function(e){},actions:"none",maxCount:1,listType:"picture-card",children:Object(F.jsxs)("div",{children:[Object(F.jsx)(J.a,{}),Object(F.jsx)("div",{style:{marginTop:8},children:"Upload"})]})})}),Object(F.jsx)(g.a.Item,{children:Object(F.jsx)(b.a,{justify:"start",children:Object(F.jsx)(u.a,{children:Object(F.jsx)(y.a,{size:"large",style:{background:k,color:v,border:"none"},children:Object(F.jsx)("b",{children:"Post It"})})})})})]})})})}}]),s}(a.Component),W=D.a.Content,Y=D.a.Sider,K=h.a.Title,q=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(i.a)(this,s),(a=t.call(this,e)).state={groups:[]},a}return Object(o.a)(s,[{key:"componentDidMount",value:function(){var e=this,t={u_name:C.a.get("user")};fetch("http://localhost:8000/group/fetch",{method:"POST",mode:"cors",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()})).then((function(t){e.setState(Object(j.a)(Object(j.a)({},e.state),{},{groups:t.groups}))})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){var e=[];return this.state.groups.forEach((function(t){e.push(Object(F.jsx)(L.a.Item,{children:t},t))})),Object(F.jsx)(F.Fragment,{children:Object(F.jsxs)(D.a,{style:{height:"100vh"},children:[Object(F.jsx)(E.a,{style:{background:S,paddingLeft:20,paddingTop:5,paddingBottom:5},children:Object(F.jsxs)(p.b,{align:"top",children:[Object(F.jsx)(O.a,{align:"center",preview:!1,width:40,src:"./../assets/streaming.png"}),Object(F.jsx)(K,{style:{fontSize:35,color:k},children:"Streamer"})]})}),Object(F.jsxs)(D.a,{children:[Object(F.jsx)(Y,{style:{background:v},children:Object(F.jsx)(L.a,{style:{background:"transparent"},defaultSelectedKeys:0!==this.state.groups.length?[this.state.groups[0]]:0,theme:"dark",children:e})}),Object(F.jsxs)(W,{style:{background:m,padding:20,overflowY:"auto"},children:[Object(F.jsx)(b.a,{style:{paddingBottom:10},children:Object(F.jsx)(u.a,{span:24,children:Object(F.jsx)(Z,{})})}),Object(F.jsx)(b.a,{style:{paddingTop:10},children:Object(F.jsx)(u.a,{span:24,children:Object(F.jsx)(B,{})})})]})]})]})})}}]),s}(a.Component),H=s(397),Q=s(224),V=s(225),X=s.n(V),$=s(87),ee=(s(382),s(232));$.a.register(ee.a);var te=D.a.Content,se=h.a.Title,ae=Object(Q.io)("ws://localhost:3001/"),ne=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(i.a)(this,s),(a=t.call(this,e)).intervalID=void 0,a.duration=6e5,a.refresh=3e4,a.optionsActiveUsers={animation:!1,plugins:{legend:{display:!1}},scales:{x:{grid:{display:!1},type:"realtime",realtime:{duration:a.duration,refresh:a.refresh,onRefresh:function(e){e.data.datasets.forEach((function(e){e.data.push({x:Date.now(),y:a.state.active_user})}))}}},yAxes:[{ticks:{beginAtZero:!0}}]}},a.optionsLikes={animation:!1,plugins:{legend:{display:!1}},scales:{x:{grid:{display:!1},type:"realtime",realtime:{duration:a.duration,refresh:a.refresh,onRefresh:function(e){e.data.datasets.forEach((function(e){e.data.push({x:Date.now(),y:a.state.likes})}))}}},yAxes:[{ticks:{beginAtZero:!0}}]}},a.optionsPosts={animation:!1,plugins:{legend:{display:!1}},scales:{x:{grid:{display:!1},type:"realtime",realtime:{duration:a.duration,refresh:a.refresh,onRefresh:function(e){e.data.datasets.forEach((function(e){e.data.push({x:Date.now(),y:a.state.posts})}))}}},yAxes:[{ticks:{beginAtZero:!0}}]}},a.optionsShares={animation:!1,plugins:{legend:{display:!1}},scales:{x:{grid:{display:!1},type:"realtime",realtime:{duration:a.duration,refresh:a.refresh,onRefresh:function(e){e.data.datasets.forEach((function(e){e.data.push({x:Date.now(),y:a.state.shares})}))}}},yAxes:[{ticks:{beginAtZero:!0}}]}},a.optionsComments={animation:!1,plugins:{legend:{display:!1}},scales:{x:{grid:{display:!1},type:"realtime",realtime:{duration:a.duration,refresh:a.refresh,onRefresh:function(e){e.data.datasets.forEach((function(e){e.data.push({x:Date.now(),y:a.state.comments})}))}}},yAxes:[{ticks:{beginAtZero:!0}}]}},a.filterMessages=function(e){var t=e.tag,s=e.data;if("logins"===t){var n=parseInt(s.active_users);a.setState(Object(j.a)(Object(j.a)({},a.state),{},{active_user:n}))}else if("likes"===t){var r=parseInt(s.no_of_likes);a.setState(Object(j.a)(Object(j.a)({},a.state),{},{likes:r}))}else if("shares"===t){var c=parseInt(s.no_of_shares);a.setState(Object(j.a)(Object(j.a)({},a.state),{},{shares:c}))}else if("comments"===t){var i=parseInt(s.no_of_comments);a.setState(Object(j.a)(Object(j.a)({},a.state),{},{comments:i}))}else if("posts"===t){var o=parseInt(s.no_of_posts);a.setState(Object(j.a)(Object(j.a)({},a.state),{},{posts:o}))}else"emotions"===t&&a.setState(Object(j.a)(Object(j.a)({},a.state),{},{emotions:s}))},a.state={active_user:0,likes:0,posts:0,comments:0,emotions:{},shares:0,data:{datasets:[{fill:!1,backgroundColor:"rgb(255, 99, 132)",borderColor:"rgba(255, 99, 132, 0.2)",tension:.2}]}},a}return Object(o.a)(s,[{key:"componentDidMount",value:function(){var e=this;ae.on("message",(function(t){e.filterMessages(JSON.parse(t))})),setInterval(this.forceUpdate(),1e3)}},{key:"render",value:function(){var e=this,t="45vh",s=[{name:"Active Users",data:this.state.active_user}],a=[],n=[];return Object.keys(this.state.emotions).forEach((function(t){n.push(e.state.emotions[t].p_emotion),a.push(parseInt(e.state.emotions[t].count))})),console.log(s),Object(F.jsx)(F.Fragment,{children:Object(F.jsxs)(D.a,{style:{height:"100vh"},children:[Object(F.jsx)(E.a,{style:{background:S,paddingLeft:20,paddingTop:5,paddingBottom:5},children:Object(F.jsxs)(p.b,{align:"top",children:[Object(F.jsx)(O.a,{align:"center",preview:!1,width:40,src:"./../assets/streaming.png"}),Object(F.jsx)(se,{style:{fontSize:35,color:k},children:"Streamer Analytics"})]})}),Object(F.jsx)(D.a,{children:Object(F.jsxs)(te,{style:{background:m,padding:10,overflowY:"auto"},children:[Object(F.jsxs)(b.a,{children:[Object(F.jsx)(u.a,{style:{padding:5},span:8,children:Object(F.jsx)(z.a,{title:"Active Users Trend",style:{height:t},children:Object(F.jsx)($.b,{data:this.state.data,options:this.optionsActiveUsers})})}),Object(F.jsx)(u.a,{style:{padding:5},span:8,children:Object(F.jsx)(z.a,{title:"Likes Trend",style:{height:t},children:Object(F.jsx)($.b,{data:this.state.data,options:this.optionsLikes})})}),Object(F.jsx)(u.a,{style:{padding:5},span:8,children:Object(F.jsx)(z.a,{title:"Posts Users Trend",style:{height:t},children:Object(F.jsx)($.b,{data:this.state.data,options:this.optionsPosts})})})]}),Object(F.jsxs)(b.a,{children:[Object(F.jsx)(u.a,{style:{padding:5},span:8,children:Object(F.jsx)(z.a,{title:"Comments Users Trend",style:{height:t},children:Object(F.jsx)($.b,{data:this.state.data,options:this.optionsComments})})}),Object(F.jsx)(u.a,{style:{padding:5},span:8,children:Object(F.jsx)(z.a,{title:"Shares Users Trend",style:{height:t},children:Object(F.jsx)($.b,{data:this.state.data,options:this.optionsShares})})}),Object(F.jsx)(u.a,{style:{padding:5},span:8,children:Object(F.jsx)(z.a,{title:"User Emotion over posts",style:{height:t},children:0===a.length?Object(F.jsx)(H.a,{message:"Please Wait",type:"info",showIcon:!0}):Object(F.jsx)(X.a,{series:a,options:{labels:n},type:"donut",height:250})})})]})]})})]})})}}]),s}(a.Component),re=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(i.a)(this,s),(a=t.call(this,e)).updateFlag=function(e){a.setState({FLAG:e})},a.state={FLAG:w},a}return Object(o.a)(s,[{key:"render",value:function(){return this.state.FLAG===w?Object(F.jsx)("div",{children:Object(F.jsx)(T,{updateFlag:this.updateFlag})}):this.state.FLAG===A?Object(F.jsx)("div",{children:Object(F.jsx)(ne,{updateFlag:this.updateFlag})}):Object(F.jsx)("div",{children:Object(F.jsx)(q,{})})}}]),s}(a.Component);s(383),s(384);c.a.render(Object(F.jsx)(n.a.StrictMode,{children:Object(F.jsx)(re,{})}),document.getElementById("root"))}},[[385,1,2]]]);
//# sourceMappingURL=main.62bf4c18.chunk.js.map